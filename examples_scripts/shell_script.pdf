%PDF-1.5%‚„œ”
1 0 obj<</ModDate(D:20040928225029-03'00')/CreationDate(D:20040309203333-0300)/Title(Programando em shell-script)/Creator(MSHTML 6.00.2600.0)/Producer(htmldoc 1.8.23 Copyright 1997-2002 Easy Software Products, All Rights Reserved.)/CreationDate--Text(D:20040309203333-0300)>>endobj2 0 obj<</Type/Encoding/Differences[32/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quotesingle/parenleft/parenright/asterisk/plus/comma/minus/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/asciicircum/underscore/grave/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde 128/Euro 130/quotesinglbase/florin/quotedblbase/ellipsis/dagger/daggerdbl/circumflex/perthousand/Scaron/guilsinglleft/OE 145/quoteleft/quoteright/quotedblleft/quotedblright/bullet/endash/emdash/tilde/trademark/scaron/guilsinglright/oe 159/Ydieresis/space/exclamdown/cent/sterling/currency/yen/brokenbar/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine/guillemotright/onequarter/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]>>endobj3 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Courier/Subtype/Type1>>endobj4 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Courier-Oblique/Subtype/Type1>>endobj5 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Times-Roman/Subtype/Type1>>endobj6 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Times-Bold/Subtype/Type1>>endobj7 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Times-Italic/Subtype/Type1>>endobj8 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Helvetica/Subtype/Type1>>endobj9 0 obj<</Type/Font/Encoding 2 0 R/BaseFont/Helvetica-Bold/Subtype/Type1>>endobj11 0 obj<</Rect[72.0 579.799988 211.5 592.799988]/Border[0 0 0]/Dest[36 0 R/XYZ 0 627 0]/Subtype/Link>>endobj12 0 obj<</Rect[108.0 566.600037 255.900009 579.600037]/Border[0 0 0]/Dest[36 0 R/XYZ 0 551 0]/Subtype/Link>>endobj13 0 obj<</Rect[108.0 553.400024 287.300018 566.400024]/Border[0 0 0]/Dest[44 0 R/XYZ 0 413 0]/Subtype/Link>>endobj14 0 obj[11 0 R 12 0 R 13 0 R]endobj15 0 obj<</URI(mailto:hugo_arroba_devin_ponto_com_ponto_br)/S/URI>>endobj16 0 obj<</Rect[144.100006 578.400024 334.5 591.400024]/Border[0 0 0]/Subtype/Link/A 15 0 R>>endobj17 0 obj[16 0 R]endobj18 0 obj<</URI(mailto:hugo_arroba_devin_ponto_com_ponto_br)/S/URI>>endobj19 0 obj<</Rect[143.5 244.100006 332.0 257.100006]/Border[0 0 0]/Subtype/Link/A 18 0 R>>endobj20 0 obj[19 0 R]endobj31 0 obj<</Count 13/Kids[34 0 R 36 0 R 38 0 R 40 0 R 42 0 R 44 0 R 46 0 R 48 0 R 50 0 R 52 0 R 54 0 R 56 0 R 58 0 R]/Type/Pages>>endobj34 0 obj<</Annots 14 0 R/Contents 35 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F9 9 0 R/F5 6 0 R/F4 5 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj35 0 obj<</Length 1329>>stream
q
1 0 0 1 72 36 cm
0.00 0.00 0.00 RG
0.0 544.8 m 65.4 544.8 l S
65.4 544.8 m 82.2 544.8 l S
82.2 544.8 m 139.5 544.8 l S
36.0 531.6 m 44.3 531.6 l S
44.3 531.6 m 84.9 531.6 l S
84.9 531.6 m 112.4 531.6 l S
112.4 531.6 m 134.1 531.6 l S
134.1 531.6 m 183.9 531.6 l S
36.0 518.4 m 44.3 518.4 l S
44.3 518.4 m 84.9 518.4 l S
84.9 518.4 m 112.4 518.4 l S
112.4 518.4 m 124.3 518.4 l S
124.3 518.4 m 188.1 518.4 l S
188.1 518.4 m 215.3 518.4 l S
BT
/F9 19 Tf 163.239 568.605 Td 0.000 Tc(Table of Contents)Tj
/F5 11 Tf -163.239 -22.81 Td(Programando)Tj
65.384 0 Td( em)Tj
16.797 0 Td( shell-script)Tj
55.569 0 Td(............................................................................................................................1)Tj
/F4 11 Tf -101.75 -13.2 Td(1.)Tj
8.25 0 Td( Primeira)Tj
40.634 0 Td( parte,)Tj
27.489 0 Td( uma)Tj
21.692 0 Td( introdu\347\343o)Tj
47.685 0 Td(............................................................................................................1)Tj
-145.75 -13.2 Td(2.)Tj
8.25 0 Td( Segunda)Tj
40.634 0 Td( parte,)Tj
27.489 0 Td( se)Tj
11.913 0 Td( aprofundando)Tj
63.844 0 Td( mais!)Tj
26.62 0 Td(................................................................................................5)Tj
/F8 11 Tf -42.926 239.604 Td(Programando em shell-script)Tj
312.734 -759 Td(i)Tj
ET
Q

endstreamendobj36 0 obj<</Annots 17 0 R/Contents 37 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F9 9 0 R/F4 5 0 R/F6 7 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj37 0 obj<</Length 2577>>stream
q
1 0 0 1 72 36 cm
0.00 0.00 0.00 RG
72.1 543.4 m 262.5 543.4 l S
0.04 0.74 0.81 rg 0.0 194.7 487.0 24.9 re f
BT
0.00 0.00 0.00 rg /F9 19 Tf 0 572.407 Td 0.000 Tc(Programando em shell-script)Tj
/F6 11 Tf 0 -28.002 Td(Hugo Cisneiros, hugo_arroba_devin_ponto_com_ponto_br)Tj
0 -13.2 Td(\332ltima atualiza\347\343o em 01/02/2003)Tj
/F9 15.8 Tf 0 -31.24 Td(1. Primeira parte, uma introdu\347\343o)Tj
/F4 11 Tf 0 -27.368 Td(Quem usa Linux conhece bem o prompt de comando sh, ou varia\347\365es como o bash. O ue muita gente n\343o sabe)Tj
0 -13.2 Td(\351 que o sh ou o bash t\352m uma "poderosa" linguagem de script embutido nelas mesmas. Diversas pessoas)Tj
0 -13.2 Td(utilizam-se desta linguagem para facilitar a realiza\347\343o de in\372meras tarefas administrativas no Linux, ou at\351)Tj
0 -13.2 Td(mesmo criar seus pr\363prios programinhas. Patrick Volkerding, criador da distribui\347\343o Slackware, utiliza esta)Tj
0 -13.2 Td(linguagem para toda a instala\347\343o e configura\347\343o de sua distribui\347\343o. Voc\352 poder\341 criar scripts para automar as)Tj
0 -13.2 Td(tarefas di\341rias de um servidor, para efetuar backup autom\341tico regularmente, procurar textos, criar)Tj
0 -13.2 Td(formata\347\365es, e muito mais. Para voc\352 ver como esta linguagem pode ser \372til, vamos ver alguns passos)Tj
0 -13.2 Td(introdut\363rios sobre ela.)Tj
0 -26.4 Td(Interpretadores de comandos s\343o programas feitos para intermediar o usu\341rio e seu sistema. Atrav\351s destes)Tj
0 -13.2 Td(interpretadores, o usu\341rio manda um comando, e o interpretador o executa no sistema. Eles s\343o a "Shell" do)Tj
0 -13.2 Td(sistema Linux. Usaremos o interpretador de comandos bash, por ser mais "extenso" que o sh, e para que haja)Tj
0 -13.2 Td(uma melhor compreens\343o das informa\347\365es obtidas aqui, \351 bom ter uma base sobre o conceito de l\363gica de)Tj
0 -13.2 Td(programa\347\343o.)Tj
0 -26.4 Td(Uma das vantagens destes shell scripts \351 que eles n\343o precisam ser compilados, ou seja, basta apenas criar um)Tj
0 -13.2 Td(arquivo texto qualquer, e inserir comandos \340 ele. Para dar \340 este arquivo a defini\347\343o de "shell script", teremos)Tj
0 -13.2 Td(que incluir uma linha no come\347o do arquivo \(#!/bin/bash\) e torn\341-lo "execut\341vel", utilizando o comando)Tj
0 -13.2 Td(chmod. Vamos seguir com um pequeno exemplo de um shell script que mostre na tela: "Nossa! Estou vivo!":)Tj
/F0 9.2 Tf 1.432 -25.999 Td(#!/bin/bash)Tj
0 -11 Td(echo 'Nossa! Estou vivo!')Tj
/F8 11 Tf -1.432 -197.998 Td(Programando em shell-script)Tj
480.884 0 Td(1)Tj
ET
Q

endstreamendobj38 0 obj<</Contents 39 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj39 0 obj<</Length 2576>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 445.5 487.0 13.9 re f
0.0 312.9 487.0 13.9 re f
0.0 178.6 487.0 55.1 re f
BT
0.00 0.00 0.00 rg /F4 11 Tf 0 580.415 Td 0.000 Tc(F\341cil, hein? A primeira linha indica que todas as outras linhas abaixo dever\343o ser executadas pelo bash \(que se)Tj
0 -13.2 Td(localiza em /bin/bash\), e a segunda linha imprimir\341 na tela a frase "Nossa! Estou vivo!", utilizando o comando)Tj
0 -13.2 Td(echo, que serve justamente para isto. Como voc\352 p\364de ver, todos os comandos que voc\352 digita diretamente na)Tj
0 -13.2 Td(linha de comando, voc\352 poder\341 incluir no seu shell script, criando uma s\351rie de comandos, e \351 essa)Tj
0 -13.2 Td(combina\347\343o de comandos que forma o chamado shell script. Tente tamb\351m dar o comando 'file arquivo' e veja)Tj
0 -13.2 Td(que a defini\347\343o dele \351 de Bourne-Again Shell Script \(Bash Script\).)Tj
0 -26.4 Td(Contudo, para o arquivo poder se execut\341vel, voc\352 tem de atribuir o comando de execut\341vel para ele. E como)Tj
0 -13.2 Td(citamos anteriormente, o comando chmod se encarrega disto:)Tj
/F0 9.2 Tf 1.432 -25.999 Td($ chmod +x arquivo)Tj
/F4 11 Tf -1.432 -27.466 Td(Pronto, o arquivo poder\341 ser executado com um simples "./arquivo".)Tj
/F5 11 Tf 0 -26.4 Td(Conceito de Vari\341veis em shell script)Tj
/F4 11 Tf 0 -26.4 Td(Vari\341veis s\343o caracteres que armazenam dados, uma esp\351cie de atalho. O bash reconhece uma vari\341vel)Tj
0 -13.2 Td(quando ela come\347a com $, ou seja, a diferen\347a entre 'palavra' e '$palavra' \351 que a primeira \351 uma palavra)Tj
0 -13.2 Td(qualquer, e a outra uma vari\341vel. Para definir uma vari\341vel, utilizamos a seguinte sintaxe:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(variavel="valor")Tj
/F4 11 Tf -1.432 -27.466 Td(O 'valor' ser\341 atribu\355do a 'vari\341vel '. Valor pode ser uma frase, n\372meros, e at\351 outras vari\341veis e comandos. O)Tj
0 -13.2 Td(valor pode ser expressado entre as aspas \(""\), ap\363strofos \(''\) ou crases \(``\). As aspas v\343o interpretar as)Tj
0 -13.2 Td(vari\341veis que estiverem dentro do valor, os ap\363strofos ler\343o o valor literalmente, sem interpretar nada, e as)Tj
0 -13.2 Td(crases v\343o interpretar um comando e retornar a sua sa\355da para a vari\341vel. Vejamos exemplos:)Tj
/F0 9.2 Tf 1.432 -25.999 Td($ variavel="Eu estou logado como usu\341rio $user")Tj
0 -11 Td($ echo $variavel)Tj
0 -11 Td(   Eu estou logado como usu\341rio cla)Tj
/F8 11 Tf 170.392 557.914 Td(Programando em shell-script)Tj
-171.824 -759 Td(Programando em shell-script)Tj
480.884 0 Td(2)Tj
ET
Q

endstreamendobj40 0 obj<</Contents 41 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F2 4 0 R/F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj41 0 obj<</Length 2255>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 511.5 487.0 79.9 re f
0.0 398.7 487.0 46.9 re f
0.0 237.4 487.0 68.9 re f
BT
0.00 0.00 0.00 rg /F0 9.2 Tf 1.432 580.816 Td 0.000 Tc($ variavel='Eu estou logado como usu\341rio $user')Tj
0 -11 Td($ echo $variavel)Tj
0 -11 Td(   Eu estou logado como usu\341rio $user)Tj
0 -22 Td($ variavel="Meu diret\363rio atual \351 o `pwd`")Tj
0 -11 Td($ echo $variavel)Tj
0 -11 Td(   Meu diret\363rio atual \351 o /home/cla)Tj
/F4 11 Tf -1.432 -27.466 Td(Se voc\352 quiser criar um script em que o usu\341rio deve interagir com ele, \351 poss\355vel que voc\352 queira que o)Tj
0 -13.2 Td(pr\363prio usu\341rio defina uma vari\341vel, e para isso usamos o comando read, que dar\341 uma pausa no script e)Tj
0 -13.2 Td(ficarar\341 esperando o usu\341rio digitar algum valor e teclar enter. Exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(echo "Entre com o valor para a vari\341vel: " ; read variavel)Tj
/F2 9.2 Tf 0 -11 Td(\(O usu\341rio digita e tecla enter, vamos supor que ele digitou 'eu sou um frutinha'\))Tj
/F0 9.2 Tf 0 -11 Td(echo $variavel)Tj
0 -11 Td(   eu sou um frutinha)Tj
/F5 11 Tf -1.432 -27.466 Td(Controle de fluxo com o if)Tj
/F4 11 Tf 0 -26.4 Td(Controle de fluxo s\343o comandos que v\343o testando algumas alternativas, e de acordo com essas alternativas,)Tj
0 -13.2 Td(v\343o executando comandos. Um dos comandos de controle de fluxo mais usados \351 certamente o if, que \351)Tj
0 -13.2 Td(baseado na l\363gica "se acontecer isso, irei fazer isso, se n\343o, irei fazer aquilo". Vamos dar um exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(if [ -e $linux ])Tj
0 -11 Td(then)Tj
0 -11 Td(   echo 'A vari\341vel $linux existe.')Tj
0 -11 Td(else)Tj
0 -11 Td(   echo 'A vari\341vel $linux n\343o existe.')Tj
0 -11 Td(fi)Tj
/F4 11 Tf -1.432 -27.466 Td(O que este peda\347o de c\363digo faz? O if testa a seguinte express\343o: Se a vari\341vel $linux existir, ent\343o \(then\) ele)Tj
0 -13.2 Td(diz que que existe com o echo, se n\343o \(else\), ele diz que n\343o existe. O operador -e que usei \351 pr\351-definido, e)Tj
0 -13.2 Td(voc\352 pode encontrar a listagem dos operadores na tabela:)Tj
/F8 11 Tf 171.824 572.18 Td(Programando em shell-script)Tj
-171.824 -759 Td(Programando em shell-script)Tj
480.884 0 Td(3)Tj
ET
Q

endstreamendobj42 0 obj<</Contents 43 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj43 0 obj<</Length 4704>>stream
q
1 0 0 1 72 36 cm
0.0 591.4 21.2 0.7 re f
0.0 575.3 0.7 16.8 re f
20.5 575.3 0.7 16.8 re f
0.0 575.3 21.2 0.7 re f
20.5 591.4 46.1 0.7 re f
20.5 575.3 0.7 16.8 re f
65.9 575.3 0.7 16.8 re f
20.5 575.3 46.1 0.7 re f
0.0 575.3 21.2 0.7 re f
0.0 559.3 0.7 16.8 re f
20.5 559.3 0.7 16.8 re f
0.0 559.3 21.2 0.7 re f
20.5 575.3 46.1 0.7 re f
20.5 559.3 0.7 16.8 re f
65.9 559.3 0.7 16.8 re f
20.5 559.3 46.1 0.7 re f
0.0 559.3 21.2 0.7 re f
0.0 543.2 0.7 16.8 re f
20.5 543.2 0.7 16.8 re f
0.0 543.2 21.2 0.7 re f
20.5 559.3 46.1 0.7 re f
20.5 543.2 0.7 16.8 re f
65.9 543.2 0.7 16.8 re f
20.5 543.2 46.1 0.7 re f
0.0 543.2 21.2 0.7 re f
0.0 527.2 0.7 16.8 re f
20.5 527.2 0.7 16.8 re f
0.0 527.2 21.2 0.7 re f
20.5 543.2 46.1 0.7 re f
20.5 527.2 0.7 16.8 re f
65.9 527.2 0.7 16.8 re f
20.5 527.2 46.1 0.7 re f
0.0 527.2 21.2 0.7 re f
0.0 511.1 0.7 16.8 re f
20.5 511.1 0.7 16.8 re f
0.0 511.1 21.2 0.7 re f
20.5 527.2 46.1 0.7 re f
20.5 511.1 0.7 16.8 re f
65.9 511.1 0.7 16.8 re f
20.5 511.1 46.1 0.7 re f
0.0 497.9 18.7 0.7 re f
0.0 481.8 0.7 16.8 re f
18.0 481.8 0.7 16.8 re f
0.0 481.8 18.7 0.7 re f
18.0 497.9 152.2 0.7 re f
18.0 481.8 0.7 16.8 re f
169.5 481.8 0.7 16.8 re f
18.0 481.8 152.2 0.7 re f
0.0 481.8 18.7 0.7 re f
0.0 465.8 0.7 16.8 re f
18.0 465.8 0.7 16.8 re f
0.0 465.8 18.7 0.7 re f
18.0 481.8 152.2 0.7 re f
18.0 465.8 0.7 16.8 re f
169.5 465.8 0.7 16.8 re f
18.0 465.8 152.2 0.7 re f
0.0 465.8 18.7 0.7 re f
0.0 449.7 0.7 16.8 re f
18.0 449.7 0.7 16.8 re f
0.0 449.7 18.7 0.7 re f
18.0 465.8 152.2 0.7 re f
18.0 449.7 0.7 16.8 re f
169.5 449.7 0.7 16.8 re f
18.0 449.7 152.2 0.7 re f
0.0 449.7 18.7 0.7 re f
0.0 433.6 0.7 16.8 re f
18.0 433.6 0.7 16.8 re f
0.0 433.6 18.7 0.7 re f
18.0 449.7 152.2 0.7 re f
18.0 433.6 0.7 16.8 re f
169.5 433.6 0.7 16.8 re f
18.0 433.6 152.2 0.7 re f
0.0 433.6 18.7 0.7 re f
0.0 417.6 0.7 16.8 re f
18.0 417.6 0.7 16.8 re f
0.0 417.6 18.7 0.7 re f
18.0 433.6 152.2 0.7 re f
18.0 417.6 0.7 16.8 re f
169.5 417.6 0.7 16.8 re f
18.0 417.6 152.2 0.7 re f
0.0 417.6 18.7 0.7 re f
0.0 401.5 0.7 16.8 re f
18.0 401.5 0.7 16.8 re f
0.0 401.5 18.7 0.7 re f
18.0 417.6 152.2 0.7 re f
18.0 401.5 0.7 16.8 re f
169.5 401.5 0.7 16.8 re f
18.0 401.5 152.2 0.7 re f
0.0 401.5 18.7 0.7 re f
0.0 385.4 0.7 16.8 re f
18.0 385.4 0.7 16.8 re f
0.0 385.4 18.7 0.7 re f
18.0 401.5 152.2 0.7 re f
18.0 385.4 0.7 16.8 re f
169.5 385.4 0.7 16.8 re f
18.0 385.4 152.2 0.7 re f
0.0 385.4 18.7 0.7 re f
0.0 369.4 0.7 16.8 re f
18.0 369.4 0.7 16.8 re f
0.0 369.4 18.7 0.7 re f
18.0 385.4 152.2 0.7 re f
18.0 369.4 0.7 16.8 re f
169.5 369.4 0.7 16.8 re f
18.0 369.4 152.2 0.7 re f
0.0 197.8 68.2 0.7 re f
0.0 181.7 0.7 16.8 re f
67.4 181.7 0.7 16.8 re f
0.0 181.7 68.2 0.7 re f
67.4 197.8 250.9 0.7 re f
67.4 181.7 0.7 16.8 re f
317.7 181.7 0.7 16.8 re f
67.4 181.7 250.9 0.7 re f
BT
/F4 11 Tf 1.432 578.982 Td 0.000 Tc(-eq)Tj
20.453 0 Td(Igual)Tj
-20.453 -16.065 Td(!=)Tj
20.453 0 Td(Diferente)Tj
-20.453 -16.065 Td(-gt)Tj
20.453 0 Td(Maior)Tj
-20.453 -16.065 Td(-lt)Tj
20.453 0 Td(Menor)Tj
-20.453 -16.065 Td(-o)Tj
20.453 0 Td(Ou)Tj
-20.453 -29.265 Td(-d)Tj
18.011 0 Td(Se for um diret\363rio)Tj
-18.011 -16.065 Td(-e)Tj
18.011 0 Td(Se existir)Tj
-18.011 -16.065 Td(-z)Tj
18.011 0 Td(Se estiver vazio)Tj
-18.011 -16.065 Td(-f)Tj
18.011 0 Td(Se contiver texto)Tj
-18.011 -16.065 Td(-o)Tj
18.011 0 Td(Se o usu\341rio for o dono)Tj
-18.011 -16.065 Td(-r)Tj
18.011 0 Td(Se o arquivo pode ser lido)Tj
-18.011 -16.065 Td(-w)Tj
18.011 0 Td(Se o arquivo pode ser alterado)Tj
-18.011 -16.065 Td(-x)Tj
18.011 0 Td(Se o arquivo pode ser executado)Tj
/F5 11 Tf -19.443 -27.832 Td(Outras alternativas)Tj
/F4 11 Tf 0 -26.4 Td(Existem in\372meros comandos no Linux, e para explicar todos, ter\355amos de publicar um verdadeiro livro. Mas)Tj
0 -13.2 Td(existem outras possibilidades de aprendizado desta l\355ngua, que tamb\351m \351 usado em todas as programa\347\365es.)Tj
0 -13.2 Td(Primeiro de tudo voc\352 pode dar uma olhada na manpage do bash \(comando man bash\), que disponibilizar\341 os)Tj
0 -13.2 Td(comandos embutidos no interpretador de comandos. Uma das coisas essencias para o aprendizado \351 sair)Tj
0 -13.2 Td(coletando exemplos de outros scripts e ir estudando-os minuciosamente. Procure sempre comandos e)Tj
0 -13.2 Td(express\365es novas em outros scripts e em manpages dos comandos. E por \372ltimo, mas n\343o o menos importante,)Tj
0 -13.2 Td(praticar bastante!)Tj
0 -26.4 Td(Na tabela a seguir, voc\352 pode encontrar uma listagem de comandos para usar em sua shell script:)Tj
1.432 -27.832 Td(echo)Tj
67.45 0 Td(Imprime texto na tela)Tj
/F8 11 Tf 102.942 573.659 Td(Programando em shell-script)Tj
-171.824 -759 Td(Programando em shell-script)Tj
480.884 0 Td(4)Tj
ET
Q

endstreamendobj44 0 obj<</Contents 45 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F9 9 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj45 0 obj<</Length 4143>>stream
q
1 0 0 1 72 36 cm
0.0 591.4 68.2 0.7 re f
0.0 575.3 0.7 16.8 re f
67.4 575.3 0.7 16.8 re f
0.0 575.3 68.2 0.7 re f
67.4 591.4 250.9 0.7 re f
67.4 575.3 0.7 16.8 re f
317.7 575.3 0.7 16.8 re f
67.4 575.3 250.9 0.7 re f
0.0 575.3 68.2 0.7 re f
0.0 559.3 0.7 16.8 re f
67.4 559.3 0.7 16.8 re f
0.0 559.3 68.2 0.7 re f
67.4 575.3 250.9 0.7 re f
67.4 559.3 0.7 16.8 re f
317.7 559.3 0.7 16.8 re f
67.4 559.3 250.9 0.7 re f
0.0 559.3 68.2 0.7 re f
0.0 543.2 0.7 16.8 re f
67.4 543.2 0.7 16.8 re f
0.0 543.2 68.2 0.7 re f
67.4 559.3 250.9 0.7 re f
67.4 543.2 0.7 16.8 re f
317.7 543.2 0.7 16.8 re f
67.4 543.2 250.9 0.7 re f
0.0 543.2 68.2 0.7 re f
0.0 527.2 0.7 16.8 re f
67.4 527.2 0.7 16.8 re f
0.0 527.2 68.2 0.7 re f
67.4 543.2 250.9 0.7 re f
67.4 527.2 0.7 16.8 re f
317.7 527.2 0.7 16.8 re f
67.4 527.2 250.9 0.7 re f
0.0 527.2 68.2 0.7 re f
0.0 511.1 0.7 16.8 re f
67.4 511.1 0.7 16.8 re f
0.0 511.1 68.2 0.7 re f
67.4 527.2 250.9 0.7 re f
67.4 511.1 0.7 16.8 re f
317.7 511.1 0.7 16.8 re f
67.4 511.1 250.9 0.7 re f
0.0 511.1 68.2 0.7 re f
0.0 495.0 0.7 16.8 re f
67.4 495.0 0.7 16.8 re f
0.0 495.0 68.2 0.7 re f
67.4 511.1 250.9 0.7 re f
67.4 495.0 0.7 16.8 re f
317.7 495.0 0.7 16.8 re f
67.4 495.0 250.9 0.7 re f
0.0 495.0 68.2 0.7 re f
0.0 479.0 0.7 16.8 re f
67.4 479.0 0.7 16.8 re f
0.0 479.0 68.2 0.7 re f
67.4 495.0 250.9 0.7 re f
67.4 479.0 0.7 16.8 re f
317.7 479.0 0.7 16.8 re f
67.4 479.0 250.9 0.7 re f
0.0 479.0 68.2 0.7 re f
0.0 449.7 0.7 30.0 re f
67.4 449.7 0.7 30.0 re f
0.0 449.7 68.2 0.7 re f
67.4 479.0 250.9 0.7 re f
67.4 449.7 0.7 30.0 re f
317.7 449.7 0.7 30.0 re f
67.4 449.7 250.9 0.7 re f
0.0 449.7 68.2 0.7 re f
0.0 433.6 0.7 16.8 re f
67.4 433.6 0.7 16.8 re f
0.0 433.6 68.2 0.7 re f
67.4 449.7 250.9 0.7 re f
67.4 433.6 0.7 16.8 re f
317.7 433.6 0.7 16.8 re f
67.4 433.6 250.9 0.7 re f
0.0 433.6 68.2 0.7 re f
0.0 417.6 0.7 16.8 re f
67.4 417.6 0.7 16.8 re f
0.0 417.6 68.2 0.7 re f
67.4 433.6 250.9 0.7 re f
67.4 417.6 0.7 16.8 re f
317.7 417.6 0.7 16.8 re f
67.4 417.6 250.9 0.7 re f
0.04 0.74 0.81 rg 0.0 178.6 487.0 35.2 re f
BT
0.00 0.00 0.00 rg /F4 11 Tf 1.432 578.982 Td 0.000 Tc(read)Tj
67.45 0 Td(Captura dados do usu\341rio e coloca numa vari\341vel)Tj
-67.45 -16.065 Td(exit)Tj
67.45 0 Td(Finaliza o script)Tj
-67.45 -16.065 Td(sleep)Tj
67.45 0 Td(D\341 uma pause de segundos no script)Tj
-67.45 -16.065 Td(clear)Tj
67.45 0 Td(Limpa a tela)Tj
-67.45 -16.065 Td(stty)Tj
67.45 0 Td(Configura o terminal temporariamente)Tj
-67.45 -16.065 Td(tput)Tj
67.45 0 Td(Altera o modo de exibi\347\343o)Tj
-67.45 -16.065 Td(if)Tj
67.45 0 Td(Controle de fluxo que testa uma ou mais express\365es)Tj
-67.45 -22.665 Td(case)Tj
67.45 6.6 Td(Controle de fluxo que testa v\341rias express\365es ao mesmo)Tj
0 -13.2 Td(tempo)Tj
-67.45 -16.065 Td(for)Tj
67.45 0 Td(Controle de fluxo que testa uma ou mais express\365es)Tj
-67.45 -16.065 Td(while)Tj
67.45 0 Td(Controle de fluxo que testa uma ou mais express\365es)Tj
-68.882 -27.832 Td(E assim seja, crie seus pr\363prios scripts e facilite de uma vez s\363 parte de sua vida no Linux!)Tj
/F9 15.8 Tf 0 -31.24 Td(2. Segunda parte, se aprofundando mais!)Tj
/F4 11 Tf 0 -27.368 Td(Falamos sobre o conceito da programa\347\343o em Shell Script, e demos o primeiro passo para construir nossos)Tj
0 -13.2 Td(pr\363prios scripts. Agora vamos nos aprofundar nos comandos mais complicados, aprendendo a fazer)Tj
0 -13.2 Td(programas ainda mais \372teis. Nestes comandos est\343o inclusos o case e os la\347os for, while e until. Al\351m disso,)Tj
0 -13.2 Td(vamos falar de fun\347\365es e, por \372ltimo, teremos um programa em shell script.)Tj
/F5 11 Tf 0 -26.4 Td(Case)Tj
/F4 11 Tf 0 -26.4 Td(O case \351 para controle de fluxo, tal como \351 o if. Mas enquanto o if testa express\365es n\343o exatas, o case vai agir)Tj
0 -13.2 Td(de acordo com os resultados exatos. Vejamos um exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(case $1 in)Tj
0 -11 Td(   parametro1\) comando1 ; comando2 ;;)Tj
0 -11 Td(   parametro2\) comando3 ; comando4 ;;)Tj
/F8 11 Tf 170.392 577.84 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
480.884 0 Td(5)Tj
ET
Q

endstreamendobj46 0 obj<</Contents 47 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj47 0 obj<</Length 2270>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 566.5 487.0 24.9 re f
0.0 299.7 487.0 134.9 re f
BT
0.00 0.00 0.00 rg /F0 9.2 Tf 1.432 580.816 Td 0.000 Tc(   *\) echo "Voc\352 tem de entrar com um par\342metro v\341lido" ;;)Tj
0 -11 Td(esac)Tj
/F4 11 Tf -1.432 -27.466 Td(Aqui aconteceu o seguinte: o case leu a vari\341vel $1 \(que \351 o primeiro par\342metro passado para o programa\), e)Tj
0 -13.2 Td(comparou com valores exatos. Se a vari\341vel $1 for igual \340 "parametro1", ent\343o o programa executar\341 o)Tj
0 -13.2 Td(comando1 e o comando2; se for igual \340 "parametro2", executar\341 o comando3 e o comando4, e assim em)Tj
0 -13.2 Td(diante. A \372ltima op\347\343o \(*\), \351 uma op\347\343o padr\343o do case, ou seja, se o par\342metro passado n\343o for igual a)Tj
0 -13.2 Td(nenhuma das outras op\347\365es anteriores, esse comando ser\341 executado automaticamente.)Tj
0 -26.4 Td(Voc\352 pode ver que, com o case fica muito mais f\341cil criar uma esp\351cie de "menu" para o shell script do que)Tj
0 -13.2 Td(com o if. Vamos demonstrar a mesma fun\347\343o anterior, mas agora usando o if:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(if [ -z $1 ]; then)Tj
0 -11 Td(   echo "Voc\352 tem de entrar com um par\342metro v\341lido")Tj
0 -11 Td(   exit)Tj
0 -11 Td(elif [ $1 = "parametro1" ]; then)Tj
0 -11 Td(   comando1)Tj
0 -11 Td(   comando2)Tj
0 -11 Td(elif [ $1 = "parametro2" ]; then)Tj
0 -11 Td(   comando3)Tj
0 -11 Td(   comando4)Tj
0 -11 Td(else)Tj
0 -11 Td(   echo "Voc\352 tem de entrar com um par\342metro v\341lido")Tj
0 -11 Td(fi)Tj
/F4 11 Tf -1.432 -27.466 Td(Veja a diferen\347a. \311 muito mais pr\341tico usar o case! A vantagem do if \351 que ele pode testar v\341rias express\365es)Tj
0 -13.2 Td(que o case n\343o pode. O case \351 mais pr\341tico, mas o if pode substitu\355-lo e ainda abrange mais fun\347\365es. Note)Tj
0 -13.2 Td(que, no exemplo com o if, citamos um "comando" n\343o visto antes: o elif - que \351 uma combina\347\343o de else e if.)Tj
0 -13.2 Td(Ao inv\351s de fechar o if para criar outro, usamos o elif para testar uma express\343o no mesmo comando if.)Tj
/F5 11 Tf 0 -26.4 Td(For)Tj
/F8 11 Tf 171.824 549.515 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
480.884 0 Td(6)Tj
ET
Q

endstreamendobj48 0 obj<</Contents 49 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj49 0 obj<</Length 2151>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 493.9 487.0 57.9 re f
0.0 334.9 487.0 79.9 re f
BT
0.00 0.00 0.00 rg /F4 11 Tf 0 580.415 Td 0.000 Tc(O la\347o for vai substituindo uma vari\341vel por um valor, e vai executando os comandos pedidos. Veja o)Tj
0 -13.2 Td(exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(for i in *)Tj
0 -11 Td(do)Tj
0 -11 Td(   cp $i $i.backup)Tj
0 -11 Td(   mv $i.backup /usr/backup)Tj
0 -11 Td(done)Tj
/F4 11 Tf -1.432 -27.466 Td(Primeiramente o la\347o for atribuiu o valor de retorno do comando "*" \(que \351 equivalente a um ls sem nenhum)Tj
0 -13.2 Td(par\342metro\) para a vari\341vel $i, depois executou o bloco de comandos. Em seguida ele atribui outro valor do)Tj
0 -13.2 Td(comando "*" para a vari\341vel $1 e reexecutou os comandos. Isso se repete at\351 que n\343o sobrem valores de)Tj
0 -13.2 Td(retorno do comando "*". Outro exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(for original in *; do)Tj
0 -11 Td(   resultado=`echo $original |)Tj
0 -11 Td(              tr '[:upper:]' '[:lower:]'`)Tj
0 -11 Td(   if [ ! -e $resultado ]; then)Tj
0 -11 Td(      mv $original $resultado)Tj
0 -11 Td(   fi)Tj
0 -11 Td(done)Tj
/F4 11 Tf -1.432 -27.466 Td(Aqui, o que ocorre \351 a transforma\347\343o de letras mai\372sculas para min\372sculas. Para cada arquivo que o la\347o l\352,)Tj
0 -13.2 Td(uma vari\341vel chamada $resultado ir\341 conter o arquivo em letras min\372sculas. Para transformar em letras)Tj
0 -13.2 Td(min\372sculas, usei o comando tr. Caso n\343o exista um arquivo igual e com letras min\372sculas, o arquivo \351)Tj
0 -13.2 Td(renomeado para o valor da vari\341vel $resultado, de mesmo nome, mas com letras min\372sculas.)Tj
0 -26.4 Td(Como os exemplos ilustram, o la\347o for pode ser bem \372til no tratamento de m\372ltiplos arquivos. Voc\352 pode)Tj
0 -13.2 Td(deix\341-los todos com letras min\372sculas ou mai\372sculas sem precisar renomear cada um manualmente, pode)Tj
0 -13.2 Td(organizar dados, fazer backup, entre outras coisas.)Tj
/F5 11 Tf 0 -26.4 Td(While)Tj
/F8 11 Tf 171.824 567.115 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
480.884 0 Td(7)Tj
ET
Q

endstreamendobj50 0 obj<</Contents 51 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj51 0 obj<</Length 2050>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 507.1 487.0 57.9 re f
0.0 317.3 487.0 57.9 re f
0.0 178.6 487.0 33.1 re f
BT
0.00 0.00 0.00 rg /F4 11 Tf 0 580.415 Td 0.000 Tc(O while testa continuamente uma express\343o, at\351 que ela se torne falsa. Exemplo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(variavel="valor")Tj
0 -11 Td(while [ $variavel = "valor" ]; do)Tj
0 -11 Td(   comando1)Tj
0 -11 Td(   comando2)Tj
0 -11 Td(done)Tj
/F4 11 Tf -1.432 -27.466 Td(O que acontece aqui \351 o seguinte: enquanto a "$variavel" for igual a "valor", o while ficar\341 executando os)Tj
0 -13.2 Td(comandos 1 e 2, at\351 que a "$variavel" n\343o seja mais igual a "valor". Se no bloco dos comandos a "$variavel")Tj
0 -13.2 Td(mudasse, o while iria parar de executar os comandos quando chegasse em done, pois agora a express\343o)Tj
0 -13.2 Td($variavel = "valor" n\343o seria mais verdadeira.)Tj
/F5 11 Tf 0 -26.4 Td(Until)Tj
/F4 11 Tf 0 -26.4 Td(Tem as mesmas caracter\355sticas do while, a \372nica diferen\347a \351 que ele faz o contr\341rio. Veja o exemplo abaixo:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(variavel="naovalor")Tj
0 -11 Td(until [ $variavel = "valor" ]; do)Tj
0 -11 Td(   comando1)Tj
0 -11 Td(   comando2)Tj
0 -11 Td(done)Tj
/F4 11 Tf -1.432 -27.466 Td(Ao inv\351s de executar o bloco de comandos \(comando1 e comando2\) at\351 que a express\343o se torne falsa, o until)Tj
0 -13.2 Td(testa a express\343o e executa o bloco de comandos at\351 que a express\343o se torne verdadeira. No exemplo, o bloco)Tj
0 -13.2 Td(de comandos ser\341 executado desde que a express\343o $variavel = "valor" n\343o seja verdadeira. Se no bloco de)Tj
0 -13.2 Td(comandos a vari\341vel for definida como "valor", o until p\341ra de executar os comandos quando chega ao done.)Tj
0 -26.4 Td(Vejamos um exemplo para o until que, sintaticamente invertido, serve para o while tamb\351m:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(var=1)Tj
0 -11 Td(count=0)Tj
/F8 11 Tf 170.392 568.914 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
480.884 0 Td(8)Tj
ET
Q

endstreamendobj52 0 obj<</Contents 53 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj53 0 obj<</Length 2332>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 500.5 487.0 90.9 re f
0.0 301.9 487.0 13.9 re f
0.0 211.0 487.0 24.9 re f
BT
0.00 0.00 0.00 rg /F0 9.2 Tf 1.432 580.816 Td 0.000 Tc(until [ $var = "0" ]; do)Tj
0 -11 Td(   comando1)Tj
0 -11 Td(   comando2)Tj
0 -11 Td(   if [ $count = 9 ]; then)Tj
0 -11 Td(      var=0)Tj
0 -11 Td(   fi)Tj
0 -11 Td(   count=`expr $count + 1`)Tj
0 -11 Td(done)Tj
/F4 11 Tf -1.432 -27.466 Td(Primeiro, atribu\355mos \340 vari\341vel "$var" o valor "1". A vari\341vel "$count" ser\341 uma contagem para quantas vezes)Tj
0 -13.2 Td(quisermos executar o bloco de comandos. O until executa os comandos 1 e 2, enquanto a vari\341vel "$var" for)Tj
0 -13.2 Td(igual a "0". Ent\343o usamos um if para atribuir o valor 0 para a vari\341vel "$var", se a vari\341vel "$count" for igual)Tj
0 -13.2 Td(a 9. Se a vari\341vel "$count" n\343o for igual a 0, soma-se 1 a ela. Isso cria um la\347o que executa o comando 10)Tj
0 -13.2 Td(vezes, porque cada vez que o comando do bloco de comandos \351 executado, soma-se 1 \340 vari\341vel "$count", e)Tj
0 -13.2 Td(quando chega em 9, a vari\341vel "$var" \351 igualada a zero, quebrando assim o la\347o until.)Tj
/F5 11 Tf 0 -26.4 Td(Usando v\341rios scripts em um s\363)Tj
/F4 11 Tf 0 -26.4 Td(Pode-se precisar criar v\341rios scripts shell que fazem fun\347\365es diferentes, mas, e se voc\352 precisar executar em)Tj
0 -13.2 Td(um script shell um outro script externo para que este fa\347a alguma fun\347\343o e n\343o precisar reescrever todo o)Tj
0 -13.2 Td(c\363digo? \311 simples, voc\352 s\363 precisa incluir o seguinte comando no seu script shell:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(. bashscript2)Tj
/F4 11 Tf -1.432 -27.466 Td(Isso executar\341 o script shell "bashscript2" durante a execu\347\343o do seu script shell. Neste caso ele ser\341)Tj
0 -13.2 Td(executado na mesma script shell em que est\341 sendo usado o comando. Para utilizar outra shell, voc\352)Tj
0 -13.2 Td(simplesmente substitui o "." pelo execut\341vel da shell, assim:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(sh script2)Tj
0 -11 Td(tcsh script3)Tj
/F4 11 Tf -1.432 -27.466 Td(Nessas linhas o script2 ser\341 executado com a shell sh, e o script3 com a shell tcsh.)Tj
/F8 11 Tf 171.824 572.18 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
480.884 0 Td(9)Tj
ET
Q

endstreamendobj54 0 obj<</Contents 55 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F5 6 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj55 0 obj<</Length 2920>>stream
q
1 0 0 1 72 36 cm
0.0 565.0 32.8 0.7 re f
0.0 548.9 0.7 16.8 re f
32.0 548.9 0.7 16.8 re f
0.0 548.9 32.8 0.7 re f
32.0 565.0 455.7 0.7 re f
32.0 548.9 0.7 16.8 re f
487.0 548.9 0.7 16.8 re f
32.0 548.9 455.7 0.7 re f
0.0 548.9 32.8 0.7 re f
0.0 532.9 0.7 16.8 re f
32.0 532.9 0.7 16.8 re f
0.0 532.9 32.8 0.7 re f
32.0 548.9 455.7 0.7 re f
32.0 532.9 0.7 16.8 re f
487.0 532.9 0.7 16.8 re f
32.0 532.9 455.7 0.7 re f
0.0 532.9 32.8 0.7 re f
0.0 516.8 0.7 16.8 re f
32.0 516.8 0.7 16.8 re f
0.0 516.8 32.8 0.7 re f
32.0 532.9 455.7 0.7 re f
32.0 516.8 0.7 16.8 re f
487.0 516.8 0.7 16.8 re f
32.0 516.8 455.7 0.7 re f
0.0 516.8 32.8 0.7 re f
0.0 500.8 0.7 16.8 re f
32.0 500.8 0.7 16.8 re f
0.0 500.8 32.8 0.7 re f
32.0 516.8 455.7 0.7 re f
32.0 500.8 0.7 16.8 re f
487.0 500.8 0.7 16.8 re f
32.0 500.8 455.7 0.7 re f
0.0 500.8 32.8 0.7 re f
0.0 484.7 0.7 16.8 re f
32.0 484.7 0.7 16.8 re f
0.0 484.7 32.8 0.7 re f
32.0 500.8 455.7 0.7 re f
32.0 484.7 0.7 16.8 re f
487.0 484.7 0.7 16.8 re f
32.0 484.7 455.7 0.7 re f
0.04 0.74 0.81 rg 0.0 294.8 487.0 57.9 re f
BT
0.00 0.00 0.00 rg /F5 11 Tf 0 580.415 Td 0.000 Tc(Vari\341veis especiais)Tj
/F4 11 Tf 1.432 -27.832 Td($0)Tj
32.043 0 Td(Nome do script que est\341 sendo executado)Tj
-32.043 -16.065 Td($1-$9)Tj
32.043 0 Td(Par\342metros passados \340 linha de comando)Tj
-32.043 -16.065 Td($#)Tj
32.043 0 Td(N\372mero de par\342metros passados)Tj
-32.043 -16.065 Td($?)Tj
32.043 0 Td(Valor de retorno do \372ltimo comando ou de todo o shell script. \(o comando "exit 1" retorna o valor 1\))Tj
-32.043 -16.065 Td($$)Tj
32.043 0 Td(N\372mero do PID \(Process ID\))Tj
-33.475 -27.832 Td(Voc\352 tamb\351m encontra muitas vari\341veis, j\341 predefinidas, na p\341gina de manual do bash \(comando "man bash",)Tj
0 -13.2 Td(se\347\343o Shell Variables\).)Tj
/F5 11 Tf 0 -26.4 Td(Fun\347\365es)Tj
/F4 11 Tf 0 -26.4 Td(Fun\347\365es s\343o blocos de comandos que podem ser definidos para uso posterior em qualquer parte do c\363digo.)Tj
0 -13.2 Td(Praticamente todas as linguagens usam fun\347\365es que ajudam a organizar o c\363digo. Vejamos a sintaxe de uma)Tj
0 -13.2 Td(fun\347\343o:)Tj
/F0 9.2 Tf 1.432 -25.999 Td(funcao\(\) {)Tj
0 -11 Td(   comando1)Tj
0 -11 Td(   comando2)Tj
0 -11 Td(   ...)Tj
0 -11 Td(})Tj
/F4 11 Tf -1.432 -27.466 Td(F\341cil de entender, n\343o? A fun\347\343o funcionar\341 como um simples comando pr\363prio. Voc\352 executa a fun\347\343o em)Tj
0 -13.2 Td(qualquer lugar do script shell, e os comandos 1, 2 e outros ser\343o executados. A flexibilidade das fun\347\365es)Tj
0 -13.2 Td(permite facilitar a vida do programador, como no exemplo final.)Tj
/F5 11 Tf 0 -26.4 Td(Exemplo Final)Tj
/F4 11 Tf 0 -26.4 Td(Agora vamos dar um exemplo de um programa que utilize o que aprendemos com os artigos.)Tj
/F8 11 Tf 171.824 567.574 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
474.768 0 Td(10)Tj
ET
Q

endstreamendobj56 0 obj<</Contents 57 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text]>>>>endobj57 0 obj<</Length 1720>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 178.6 487.0 412.8 re f
BT
0.00 0.00 0.00 rg /F0 9.2 Tf 1.432 580.816 Td 0.000 Tc(#!/bin/bash)Tj
0 -11 Td(# Exemplo Final de Script Shell)Tj
0 -11 Td(Principal\(\) {)Tj
0 -11 Td(   echo "Exemplo Final sobre o uso de scripts shell")Tj
0 -11 Td(   echo "------------------------------------------")Tj
0 -11 Td(   echo "Op\347\365es:")Tj
0 -11 Td(   echo)Tj
0 -11 Td(   echo "1. Trasformar nomes de arquivos")Tj
0 -11 Td(   echo "2. Adicionar um usu\341rio no sistema")Tj
0 -11 Td(   echo "3. Deletar um usu\341rio no sistema")Tj
0 -11 Td(   echo "4. Fazer backup dos arquivos do /etc")Tj
0 -11 Td(   echo "5. Sair do exemplo")Tj
0 -11 Td(   echo)Tj
0 -11 Td(   echo -n "Qual a op\347\343o desejada? ")Tj
0 -11 Td(   read opcao)Tj
0 -11 Td(   case $opcao in)Tj
0 -11 Td(      1\) Transformar ;;)Tj
0 -11 Td(      2\) Adicionar ;;)Tj
0 -11 Td(      3\) Deletar ;;)Tj
0 -11 Td(      4\) Backup ;;)Tj
0 -11 Td(      5\) exit ;;)Tj
0 -11 Td(      *\) "Op\347\343o desconhecida." ; echo ; Principal ;;)Tj
0 -11 Td(   esac)Tj
0 -11 Td(})Tj
0 -11 Td(Transformar\(\) {)Tj
0 -11 Td(   echo -n "Para Mai\372sculo ou min\372sculo? [M/m] ")Tj
0 -11 Td(   read var)Tj
0 -11 Td(   if [ $var = "M" ]; then)Tj
0 -11 Td(      echo -n "Que diret\363rio? ")Tj
0 -11 Td(      read dir)Tj
0 -11 Td(      for x in `/bin/ls` $dir; do)Tj
0 -11 Td(         y=`echo $x | tr '[:lower:]' '[:upper:]'`)Tj
0 -11 Td(         if [ ! -e $y ]; then)Tj
0 -11 Td(            mv $x $y)Tj
0 -11 Td(         fi)Tj
0 -11 Td(      done)Tj
0 -11 Td(   elif [ $var = "m" ]; then)Tj
/F8 11 Tf 170.392 574.184 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
474.768 0 Td(11)Tj
ET
Q

endstreamendobj58 0 obj<</Annots 20 0 R/Contents 59 0 R/Type/Page/Parent 31 0 R/MediaBox[0 0 595 842]/Resources<</Font<</F8 8 0 R/F4 5 0 R/F0 3 0 R>>/XObject<<>>/ProcSet[/PDF/Text/ImageB/ImageC/ImageI]>>>>endobj59 0 obj<</Length 2176>>stream
q
1 0 0 1 72 36 cm
0.04 0.74 0.81 rg 0.0 247.5 487.0 343.9 re f
0.00 0.00 0.00 RG
71.5 209.1 m 260.0 209.1 l S
q 64.5 0 0 11.5 0.0 196.5 cm
BI/CS[/I/RGB 4<0000000000990000FF9999FFFFFFFF>]/I true/W 90/H 16/BPC 4 ID
                                             3333330                                     """"""                                     $DD"""                                     $B""""                  DD@DD D@  D@ D   $B""""                    @    @   @ @  $DB$DB                        @   @ @  $B"D""                   @ D@  @  D@ D   $B"D""                        @   @ @  $B"D""                        @   @ @  """D""                       @   @ @  """D""                     D@ DD@ D@ D   """$DB                                     """"""                                                                                                                       
EI
Q
BT
0.00 0.00 0.00 rg /F0 9.2 Tf 1.432 580.816 Td 0.000 Tc(      echo -n "Que diret\363rio? ")Tj
0 -11 Td(      read dir)Tj
0 -11 Td(      for x in `/bin/ls` $dir; do)Tj
0 -11 Td(         y=`echo $x | tr '[:upper:]' '[:lower:]'`)Tj
0 -11 Td(         if [ ! -e $y ]; then)Tj
0 -11 Td(            mv $x $y)Tj
0 -11 Td(         fi)Tj
0 -11 Td(      done)Tj
0 -11 Td(   fi)Tj
0 -11 Td(})Tj
0 -11 Td(Adicionar\(\) {)Tj
0 -11 Td(   clear)Tj
0 -11 Td(   echo -n "Qual o nome do usu\341rio a se adicionar? ")Tj
0 -11 Td(   read nome)Tj
0 -11 Td(   adduser nome)Tj
0 -11 Td(   Principal)Tj
0 -11 Td(})Tj
0 -11 Td(Deletar\(\) {)Tj
0 -11 Td(   clear)Tj
0 -11 Td(   echo -n "Qual o nome do usu\341rio a deletar? ")Tj
0 -11 Td(   read nome)Tj
0 -11 Td(   userdel nome)Tj
0 -11 Td(   Principal)Tj
0 -11 Td(})Tj
0 -11 Td(Backup\(\) {)Tj
0 -11 Td(   for x in `/bin/ls` /etc; do)Tj
0 -11 Td(      cp -R /etc/$x /etc/$x.bck)Tj
0 -11 Td(      mv /etc/$x.bck /usr/backup)Tj
0 -11 Td(   done)Tj
0 -11 Td(})Tj
0 -11 Td(Principal)Tj
/F4 11 Tf -1.432 -40.666 Td(Hugo Cisneiros, hugo_arroba_devin_ponto_com_ponto_br)Tj
/F8 11 Tf 171.824 548.85 Td(Programando em shell-script)Tj
-171.824 -759 Td(2. Segunda parte, se aprofundando mais!)Tj
474.768 0 Td(12)Tj
ET
Q

endstreamendobj60 0 obj<</Count 2/First 61 0 R/Last 62 0 R>>endobj61 0 obj<</Parent 60 0 R/Dest[34 0 R/XYZ 0 806 0]/Next 62 0 R/Title(Table of Contents)>>endobj62 0 obj<</Count -2/Parent 60 0 R/Dest[36 0 R/XYZ 0 680 0]/First 63 0 R/Last 64 0 R/Prev 61 0 R/Title(Programando em shell-script)>>endobj63 0 obj<</Parent 62 0 R/Dest[36 0 R/XYZ 0 617 0]/Next 64 0 R/Title(1. Primeira parte, uma introduÁ„o)>>endobj64 0 obj<</Parent 62 0 R/Dest[44 0 R/XYZ 0 479 0]/Prev 63 0 R/Title(2. Segunda parte, se aprofundando mais!)>>endobj65 0 obj<</Pages 31 0 R/Outlines 60 0 R/Type/Catalog/PageMode/UseOutlines/OpenAction[32 0 R/XYZ null null 0]/PageLabels<</Nums[0<</S/r>>1<</P()/S/D/St 1>>]>>/PageLayout/SinglePage/AcroForm 67 0 R/Metadata 74 0 R>>endobj66 0 obj nullendobj67 0 obj<</Fields[]/DR<</Encoding<</PDFDocEncoding 70 0 R>>/Font<</Helv 69 0 R/ZaDb 68 0 R>>>>/DA(/Helv 0 Tf 0 g )>>endobj68 0 obj<</Type/Font/Name/ZaDb/BaseFont/ZapfDingbats/Subtype/Type1>>endobj69 0 obj<</Type/Font/Name/Helv/Encoding 70 0 R/BaseFont/Helvetica/Subtype/Type1>>endobj70 0 obj<</Type/Encoding/Differences[24/breve/caron/circumflex/dotaccent/hungarumlaut/ogonek/ring/tilde 39/quotesingle 96/grave 128/bullet/dagger/daggerdbl/ellipsis/emdash/endash/florin/fraction/guilsinglleft/guilsinglright/minus/perthousand/quotedblbase/quotedblleft/quotedblright/quoteleft/quoteright/quotesinglbase/trademark/fi/fl/Lslash/OE/Scaron/Ydieresis/Zcaron/dotlessi/lslash/oe/scaron/zcaron 160/Euro 164/currency 166/brokenbar 168/dieresis/copyright/ordfeminine 172/logicalnot/.notdef/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu 183/periodcentered/cedilla/onesuperior/ordmasculine 188/onequarter/onehalf/threequarters 192/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]>>endobj74 0 obj<</Length 3364/Type/Metadata/Subtype/XML>>stream
<?xpacket begin='Ôªø' id='W5M0MpCehiHzreSzNTczkc9d'?>
<?adobe-xap-filters esc="CRLF"?>
<x:xmpmeta xmlns:x='adobe:ns:meta/' x:xmptk='XMP toolkit 2.9.1-13, framework 1.6'>
<rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:iX='http://ns.adobe.com/iX/1.0/'>
<rdf:Description rdf:about='uuid:1d83f99b-3659-474c-bb33-a1e4ccf11aa7' xmlns:pdf='http://ns.adobe.com/pdf/1.3/' pdf:CreationDate--Text='D:20040309203333-0300'><pdf:Producer>htmldoc 1.8.23 Copyright 1997-2002 Easy Software Products, All Rights Reserved.</pdf:Producer></rdf:Description>
<rdf:Description rdf:about='uuid:1d83f99b-3659-474c-bb33-a1e4ccf11aa7' xmlns:xap='http://ns.adobe.com/xap/1.0/' xap:CreatorTool='MSHTML 6.00.2600.0' xap:ModifyDate='2004-09-28T22:50:29-03:00' xap:MetadataDate='2004-09-28T22:50:29-03:00'></rdf:Description>
<rdf:Description rdf:about='uuid:1d83f99b-3659-474c-bb33-a1e4ccf11aa7' xmlns:xapMM='http://ns.adobe.com/xap/1.0/mm/' xapMM:DocumentID='uuid:d6da90dd-9f39-41f2-98fd-11592ae1ba26'/>
<rdf:Description rdf:about='uuid:1d83f99b-3659-474c-bb33-a1e4ccf11aa7' xmlns:dc='http://purl.org/dc/elements/1.1/' dc:format='application/pdf'><dc:title><rdf:Alt><rdf:li xml:lang='x-default'>Programando em shell-script</rdf:li></rdf:Alt></dc:title></rdf:Description>
</rdf:RDF>
</x:xmpmeta>
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                                                                                                    
                           
<?xpacket end='w'?>
endstreamendobjxref
0 75
0000000010 65535 f
0000000016 00000 n
0000000299 00000 n
0000001865 00000 n
0000001940 00000 n
0000002023 00000 n
0000002102 00000 n
0000002180 00000 n
0000002260 00000 n
0000002337 00000 n
0000000021 00001 f
0000002419 00000 n
0000002530 00000 n
0000002647 00000 n
0000002764 00000 n
0000002802 00000 n
0000002877 00000 n
0000002978 00000 n
0000003002 00000 n
0000003077 00000 n
0000003173 00000 n
0000000022 00001 f
0000000023 00001 f
0000000024 00001 f
0000000025 00001 f
0000000026 00001 f
0000000027 00001 f
0000000028 00001 f
0000000029 00001 f
0000000030 00001 f
0000000032 00001 f
0000003197 00000 n
0000000033 00001 f
0000000071 00001 f
0000003334 00000 n
0000003520 00000 n
0000004900 00000 n
0000005095 00000 n
0000007723 00000 n
0000007895 00000 n
0000010522 00000 n
0000010703 00000 n
0000013009 00000 n
0000013181 00000 n
0000017936 00000 n
0000018117 00000 n
0000022311 00000 n
0000022483 00000 n
0000024804 00000 n
0000024976 00000 n
0000027178 00000 n
0000027350 00000 n
0000029451 00000 n
0000029623 00000 n
0000032006 00000 n
0000032178 00000 n
0000035149 00000 n
0000035303 00000 n
0000037074 00000 n
0000037272 00000 n
0000039499 00000 n
0000039552 00000 n
0000039648 00000 n
0000039788 00000 n
0000039900 00000 n
0000040018 00000 n
0000040239 00000 n
0000040260 00000 n
0000040384 00000 n
0000040460 00000 n
0000040549 00000 n
0000000072 00001 f
0000000073 00001 f
0000000000 00001 f
0000041740 00000 n
trailer
<</Size 75/Root 65 0 R/Info 1 0 R/ID[<9468045be8021978bcb743d7be9373f8><1aa1b96fd7ed3745b4c38247f11f5add>]>>
startxref
45181
%%EOF
